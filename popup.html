<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Context DB Manager</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Context DB Manager</h1>
            <div class="server-status" id="serverStatus">
                <span class="status-dot" id="statusDot"></span>
                <span id="statusText">Checking server...</span>
            </div>
        </header>

        <main>
            <!-- Database Management Section -->
            <section class="section">
                <h2>Your Context Databases</h2>
                <div class="database-list" id="databaseList">
                    <!-- Databases will be loaded here -->
                </div>

                <div class="create-db-form">
                    <input type="text" id="newDbName" placeholder="Enter new database name">
                    <button id="createDbBtn" class="btn primary">Create Database</button>
                </div>
            </section>

            <!-- Search Section -->
            <section class="section">
                <h2>Search Context</h2>
                <div class="search-form">
                    <select id="searchDbSelect">
                        <option value="">Select database to search</option>
                    </select>
                    <input type="text" id="searchQuery" placeholder="Enter search query (Ctrl+K to focus)">
                    <button id="searchBtn" class="btn secondary">Search</button>
                </div>

                <div class="search-options">
                    <label class="search-option">
                        <input type="checkbox" id="searchAllDbs"> Search all databases
                    </label>
                    <select id="searchLimit">
                        <option value="5">5 results</option>
                        <option value="10" selected>10 results</option>
                        <option value="20">20 results</option>
                    </select>
                </div>

                <div class="search-results" id="searchResults">
                    <!-- Search results will appear here -->
                </div>
            </section>

            <!-- Settings Section -->
            <section class="section">
                <h2>Settings</h2>
                <div class="setting-item">
                    <label for="serverUrl">Local Server URL:</label>
                    <input type="text" id="serverUrl" value="http://localhost:8000" placeholder="http://localhost:8000">
                    <button id="saveSettingsBtn" class="btn secondary">Save</button>
                </div>

                <div class="setting-item">
                    <label>
                        <input type="checkbox" id="enableContextMenu"> Enable right-click context menu
                    </label>
                </div>
            </section>
        </main>
    </div>

    <script src="popup.js"></script>
</body>
</html>
